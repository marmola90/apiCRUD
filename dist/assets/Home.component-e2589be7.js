import{_ as N,h as Se,s as je,i as Ce,r as d,S as _e,a as $e,j as n,p as Oe,t as Ee,v as Ge,x as we,c as Re,M as ke,z as De,e as Ae,C as Me,I as Ne,H as Ie}from"./index-c3ee34d7.js";import{C as K,j as le,k as ie,l as Pe,m as ze,n as Le,o as Be,q as qe,g as Te,r as Ve,S as He}from"./DireccionesPrivadas-8c362e77.js";import{C as X}from"./CardContent-260ee2d3.js";import{e as Ue,$ as We,a0 as Fe,T as F,a1 as Ke,a2 as ce,z as de,r as Y,i as J,u as Xe,B as Ye,S as Je}from"./Tab.components-14cc2354.js";import{A as Qe}from"./Avatar-f7c15476.js";import"./index-418b6ca5.js";const Ze=(s,e)=>s.filter(r=>e.includes(r)),D=(s,e,r)=>{const a=s.keys[0];Array.isArray(e)?e.forEach((i,o)=>{r((c,m)=>{o<=s.keys.length-1&&(o===0?Object.assign(c,m):c[s.up(s.keys[o])]=m)},i)}):e&&typeof e=="object"?(Object.keys(e).length>s.keys.length?s.keys:Ze(s.keys,Object.keys(e))).forEach(o=>{if(s.keys.indexOf(o)!==-1){const c=e[o];c!==void 0&&r((m,y)=>{a===o?Object.assign(m,y):m[s.up(o)]=y},c)}}):(typeof e=="number"||typeof e=="string")&&r((i,o)=>{Object.assign(i,o)},e)};function x(s){return s?`Level${s}`:""}function I(s){return s.unstable_level>0&&s.container}function ue(s){return function(r){return`var(--Grid-${r}Spacing${x(s.unstable_level)})`}}function Q(s){return function(r){return s.unstable_level===0?`var(--Grid-${r}Spacing)`:`var(--Grid-${r}Spacing${x(s.unstable_level-1)})`}}function Z(s){return s.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${x(s.unstable_level-1)})`}const es=({theme:s,ownerState:e})=>{const r=ue(e),a={};return D(s.breakpoints,e.gridSize,(i,o)=>{let c={};o===!0&&(c={flexBasis:0,flexGrow:1,maxWidth:"100%"}),o==="auto"&&(c={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof o=="number"&&(c={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${o} / ${Z(e)}${I(e)?` + ${r("column")}`:""})`}),i(a,c)}),a},ss=({theme:s,ownerState:e})=>{const r={};return D(s.breakpoints,e.gridOffset,(a,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / ${Z(e)})`}),a(r,o)}),r},ts=({theme:s,ownerState:e})=>{if(!e.container)return{};const r=I(e)?{[`--Grid-columns${x(e.unstable_level)}`]:Z(e)}:{"--Grid-columns":12};return D(s.breakpoints,e.columns,(a,i)=>{a(r,{[`--Grid-columns${x(e.unstable_level)}`]:i})}),r},rs=({theme:s,ownerState:e})=>{if(!e.container)return{};const r=Q(e),a=I(e)?{[`--Grid-rowSpacing${x(e.unstable_level)}`]:r("row")}:{};return D(s.breakpoints,e.rowSpacing,(i,o)=>{var c;i(a,{[`--Grid-rowSpacing${x(e.unstable_level)}`]:typeof o=="string"?o:(c=s.spacing)==null?void 0:c.call(s,o)})}),a},ns=({theme:s,ownerState:e})=>{if(!e.container)return{};const r=Q(e),a=I(e)?{[`--Grid-columnSpacing${x(e.unstable_level)}`]:r("column")}:{};return D(s.breakpoints,e.columnSpacing,(i,o)=>{var c;i(a,{[`--Grid-columnSpacing${x(e.unstable_level)}`]:typeof o=="string"?o:(c=s.spacing)==null?void 0:c.call(s,o)})}),a},as=({theme:s,ownerState:e})=>{if(!e.container)return{};const r={};return D(s.breakpoints,e.direction,(a,i)=>{a(r,{flexDirection:i})}),r},os=({ownerState:s})=>{const e=ue(s),r=Q(s);return N({minWidth:0,boxSizing:"border-box"},s.container&&N({display:"flex",flexWrap:"wrap"},s.wrap&&s.wrap!=="wrap"&&{flexWrap:s.wrap},{margin:`calc(${e("row")} / -2) calc(${e("column")} / -2)`},s.disableEqualOverflow&&{margin:`calc(${e("row")} * -1) 0px 0px calc(${e("column")} * -1)`}),(!s.container||I(s))&&N({padding:`calc(${r("row")} / 2) calc(${r("column")} / 2)`},(s.disableEqualOverflow||s.parentDisableEqualOverflow)&&{padding:`${r("row")} 0px 0px ${r("column")}`}))},ls=s=>{const e=[];return Object.entries(s).forEach(([r,a])=>{a!==!1&&a!==void 0&&e.push(`grid-${r}-${String(a)}`)}),e},is=(s,e="xs")=>{function r(a){return a===void 0?!1:typeof a=="string"&&!Number.isNaN(Number(a))||typeof a=="number"&&a>0}if(r(s))return[`spacing-${e}-${String(s)}`];if(typeof s=="object"&&!Array.isArray(s)){const a=[];return Object.entries(s).forEach(([i,o])=>{r(o)&&a.push(`spacing-${i}-${String(o)}`)}),a}return[]},cs=s=>s===void 0?[]:typeof s=="object"?Object.entries(s).map(([e,r])=>`direction-${e}-${r}`):[`direction-xs-${String(s)}`],ds=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],us=Se(),ps=je("div",{name:"MuiGrid",slot:"Root",overridesResolver:(s,e)=>e.root});function fs(s){return Ce({props:s,name:"MuiGrid",defaultTheme:us})}function ms(s={}){const{createStyledComponent:e=ps,useThemeProps:r=fs,componentName:a="MuiGrid"}=s,i=d.createContext(void 0),o=(y,p)=>{const{container:b,direction:$,spacing:O,wrap:S,gridSize:E}=y,G={root:["root",b&&"container",S!=="wrap"&&`wrap-xs-${String(S)}`,...cs($),...ls(E),...b?is(O,p.breakpoints.keys[0]):[]]};return Ee(G,j=>Ge(a,j),{})},c=e(ts,ns,rs,es,as,os,ss),m=d.forwardRef(function(p,b){var $,O,S,E,G,j,g,P;const A=_e(),L=r(p),C=Ue(L),w=d.useContext(i),{className:v,children:B,columns:q=12,container:T=!1,component:V="div",direction:H="row",wrap:U="wrap",spacing:t=0,rowSpacing:l=t,columnSpacing:h=t,disableEqualOverflow:R,unstable_level:u=0}=C,ge=$e(C,ds);let M=R;u&&R!==void 0&&(M=p.disableEqualOverflow);const re={},ne={},ae={};Object.entries(ge).forEach(([f,k])=>{A.breakpoints.values[f]!==void 0?re[f]=k:A.breakpoints.values[f.replace("Offset","")]!==void 0?ne[f.replace("Offset","")]=k:ae[f]=k});const he=($=p.columns)!=null?$:u?void 0:q,xe=(O=p.spacing)!=null?O:u?void 0:t,ve=(S=(E=p.rowSpacing)!=null?E:p.spacing)!=null?S:u?void 0:l,ye=(G=(j=p.columnSpacing)!=null?j:p.spacing)!=null?G:u?void 0:h,oe=N({},C,{level:u,columns:he,container:T,direction:H,wrap:U,spacing:xe,rowSpacing:ve,columnSpacing:ye,gridSize:re,gridOffset:ne,disableEqualOverflow:(g=(P=M)!=null?P:w)!=null?g:!1,parentDisableEqualOverflow:w}),be=o(oe,A);let W=n.jsx(c,N({ref:b,as:V,ownerState:oe,className:Oe(be.root,v)},ae,{children:d.Children.map(B,f=>{if(d.isValidElement(f)&&We(f,["Grid"])){var k;return d.cloneElement(f,{unstable_level:(k=f.props.unstable_level)!=null?k:u+1})}return f})}));return M!==void 0&&M!==(w??!1)&&(W=n.jsx(i.Provider,{value:M,children:W})),W});return m.muiName="Grid",m}const gs=ms({createStyledComponent:we("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(s,e)=>e.root}),componentName:"MuiGrid2",useThemeProps:s=>Re({props:s,name:"MuiGrid2"})}),_=gs,hs=({openBackdrop:s,setOpenBackdrop:e})=>{const r=()=>{e(!1)};return n.jsx(Fe,{sx:{color:"#fff",zIndex:a=>a.zIndex.drawer+1},open:s,onClick:r,children:n.jsx(ke,{color:"inherit"})})},z=({sx:s,value:e,title:r,icon:a,color:i,colorText:o})=>n.jsx(K,{sx:s,children:n.jsx(X,{children:n.jsxs(le,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[n.jsxs(le,{spacing:1,children:[n.jsx(F,{color:o,variant:"overline",children:r}),n.jsx(F,{variant:"h4",color:o,children:e})]}),n.jsx(Qe,{sx:{backgroundColor:`${i}`,height:60,width:60},children:n.jsx(Ke,{children:a})})]})})}),xs=s=>{const e=de();return{chart:{background:"transparent",stacked:!1,toolbar:{show:!1}},colors:[e.palette.primary.light,De(e.palette.primary.main,.25)],dataLabels:{enabled:!1},fill:{opacity:1,type:"solid"},grid:{borderColor:e.palette.divider,strokeDashArray:2,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},legend:{show:!1},plotOptions:{bar:{columnWidth:"40px"}},stroke:{colors:["transparent"],show:!0,width:2},theme:{mode:e.palette.mode},xaxis:{axisBorder:{color:e.palette.divider,show:!0},axisTicks:{color:e.palette.divider,show:!0},categories:s,labels:{offsetY:5,style:{colors:e.palette.text.secondary}}},yaxis:{labels:{formatter:r=>r>0?`${r}K`:`${r}`,offsetX:-10,style:{colors:e.palette.text.secondary}}}}},vs=({chartSeries:s,sx:e,dataItem:r,title:a})=>{const i=xs(r);return n.jsxs(K,{sx:e,children:[n.jsx(ie,{title:a}),n.jsx(X,{children:n.jsx(ce,{height:350,options:i,series:s,type:"bar",width:"100%"})})]})},ys=s=>{const e=de();return{chart:{background:"transparent"},colors:[e.palette.primary.main,e.palette.success.main,e.palette.warning.main,e.palette.error.main,e.palette.primary.light,e.palette.success.dark,e.palette.warning.dark,e.palette.secondary.main],dataLabels:{enabled:!0},labels:s,legend:{show:!0},plotOptions:{pie:{expandOnClick:!1}},states:{active:{filter:{type:"none"}},hover:{filter:{type:"none"}}},stroke:{width:0},theme:{mode:e.palette.mode},tooltip:{fillSeriesColor:!1}}},bs=({chartSeries:s,labels:e,sx:r,title:a})=>{const i=ys(e);return n.jsxs(K,{sx:r,children:[n.jsx(ie,{title:a}),n.jsx(X,{children:n.jsx(ce,{height:400,options:i,series:s,type:"donut",width:"100%"})})]})};var ee={},Ss=J;Object.defineProperty(ee,"__esModule",{value:!0});var pe=ee.default=void 0,js=Ss(Y()),Cs=n,_s=(0,js.default)((0,Cs.jsx)("path",{d:"M16.24 13.65c-1.17-.52-2.61-.9-4.24-.9-1.63 0-3.07.39-4.24.9C6.68 14.13 6 15.21 6 16.39V18h12v-1.61c0-1.18-.68-2.26-1.76-2.74zm-15.02.93C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58zm21.56 0c-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57c0-.81-.48-1.53-1.22-1.85zM12 12c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zM1.4968 11l2.5031-2.503L6.5031 11l-2.5032 2.5032zM20 9l-2.5 4h5z"}),"Groups3");pe=ee.default=_s;var se={},$s=J;Object.defineProperty(se,"__esModule",{value:!0});var fe=se.default=void 0,Os=$s(Y()),Es=n,Gs=(0,Os.default)((0,Es.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulleted");fe=se.default=Gs;var te={},ws=J;Object.defineProperty(te,"__esModule",{value:!0});var me=te.default=void 0,Rs=ws(Y()),ks=n,Ds=(0,Rs.default)((0,ks.jsx)("path",{d:"M11 7H2v2h9V7zm0 8H2v2h9v-2zm5.34-4L12.8 7.46l1.41-1.41 2.12 2.12 4.24-4.24L22 5.34 16.34 11zm0 8-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L22 13.34 16.34 19z"}),"ChecklistRtl");me=te.default=Ds;const Ls=()=>{const[s,e]=d.useState([]),[r,a]=d.useState([]),[i,o]=d.useState([]),[c,m]=d.useState([]),[y,p]=d.useState([]),[b,$]=d.useState([]),[O,S]=d.useState([]),[E,G]=d.useState([]),[j,g]=d.useState(null),P=Ae(),A=Xe(),[L,C]=d.useState(!1),w=()=>g(null),v=t=>{t===He.SESSION_NO_VALIDA&&(P(`/${Ne.LOGIN}`,{replace:!0}),A(Ie()))},B=async()=>{await ze().then(t=>t.json()).then(t=>{t.status==="Error"?g({children:t.data.ErrorDetail,severity:"error"}):e(t.data)}).catch(t=>{const l=t.message.match("SESSION_NO_VALIDA");console.log(t),v(l==null?void 0:l[0])})},q=async()=>{await Le().then(t=>t.json()).then(t=>{t.status==="Error"?g({children:t.data.ErrorDetail,severity:"error"}):a(t.data)}).catch(t=>{const l=t.message.match("SESSION_NO_VALIDA");console.log(t),v(l==null?void 0:l[0])})},T=async()=>{await Be().then(t=>t.json()).then(t=>{if(t.status==="Error")g({children:t.data.ErrorDetail,severity:"error"});else{const l=t.data,h=l.map(u=>u.Descripcion),R=l.map(u=>u.Cantidad);o(h),m(R)}}).catch(t=>{const l=t.message.match("SESSION_NO_VALIDA");console.log(t),v(l==null?void 0:l[0])})},V=async()=>{await qe().then(t=>t.json()).then(t=>{if(t.status==="Error")g({children:t.data.ErrorDetail,severity:"error"});else{const l=t.data,h=l.map(u=>u.Descripcion),R=l.map(u=>u.Cantidad);p(h),$(R)}}).catch(t=>{const l=t.message.match("SESSION_NO_VALIDA");console.log(t),v(l==null?void 0:l[0])})},H=async()=>{await Te().then(t=>t.json()).then(t=>{if(t.status==="Error")g({children:t.data.ErrorDetail,severity:"error"});else{const l=t.data.map(h=>({IdModulo:h.Id,Descripcion:h.Descripcion,BDAsociada:h.BDAsociada}));S(l)}}).catch(t=>{const l=t.message.match("SESSION_NO_VALIDA");console.log(t),v(l==null?void 0:l[0])})},U=async()=>{await Ve().then(t=>t.json()).then(t=>{t.status==="Error"?g({children:t.data.ErrorDetail,severity:"error"}):G(t.data)}).catch(t=>{const l=t.message.match("SESSION_NO_VALIDA");console.log(t),v(l==null?void 0:l[0])})};return d.useEffect(()=>{C(!0);const t=setTimeout(()=>{B(),q(),H(),U(),T(),V(),C(!1)},300);return()=>clearTimeout(t)},[]),n.jsxs(n.Fragment,{children:[n.jsxs(Ye,{component:"main",sx:{flexGrow:1,marginLeft:"1rem",background:"#fafafa",borderRadius:"25px",height:"100%"},children:[n.jsxs(Me,{maxWidth:"xl",sx:{my:10},children:[n.jsx(F,{variant:"h2",gutterBottom:!0,color:"#353535de",children:"Dashboard"}),n.jsxs(_,{container:!0,spacing:3,children:[n.jsx(_,{xs:12,sm:6,lg:3,children:n.jsx(z,{title:"Roles",sx:{height:"100%",borderRadius:"22px"},value:r.length.toString(),color:"error.main",icon:n.jsx(Pe,{}),colorText:"text.secondary"})}),n.jsx(_,{xs:12,sm:6,lg:3,children:n.jsx(z,{title:"Usuarios",sx:{height:"100%",borderRadius:"22px"},value:s.length.toString(),color:"success.main",icon:n.jsx(pe,{}),colorText:"text.secondary"})}),n.jsx(_,{xs:12,sm:6,lg:3,children:n.jsx(z,{title:"Modulos",sx:{height:"100%",borderRadius:"22px"},value:O.length.toString(),color:"primary.main",icon:n.jsx(fe,{}),colorText:"text.secondary"})}),n.jsx(_,{xs:12,sm:6,lg:3,children:n.jsx(z,{title:"Permisos",sx:{height:"100%",borderRadius:"22px"},value:E.length.toString(),color:"secondary.dark",colorText:"text.secondary",icon:n.jsx(me,{})})}),n.jsx(_,{xs:12,lg:7,children:b.length>0&&n.jsx(vs,{chartSeries:[{name:"Cantidad Modulos",data:b}],sx:{height:"100%",borderRadius:"22px"},dataItem:y,title:"Modulos Asignados por Roles"})}),n.jsx(_,{xs:12,md:6,lg:5,children:c.length>0&&n.jsx(bs,{chartSeries:c,labels:i,sx:{height:"100%",borderRadius:"22px"},title:"Roles Asignados"})})]})]}),!!j&&n.jsx(Je,{snackbar:j,onClose:w})]}),n.jsx(hs,{openBackdrop:L,setOpenBackdrop:C})]})};export{Ls as default};
