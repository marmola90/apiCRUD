import{r as c,j as s,_ as l,u as B,T as w,a as M,b as f,c as O,d as S,e as z,f as R,C as D,B as p,g as I,R as L}from"./index-adcb4964.js";import{G as A,r as W,i as $,A as V,u as q,a as h,P as H,T as F,b as v,B as G}from"./constants-bb1e5110.js";import{A as N}from"./Avatar-c7f8bec9.js";const U=c.createContext(null),j=U;function _(){return c.useContext(j)}const J=typeof Symbol=="function"&&Symbol.for,Y=J?Symbol.for("mui.nested"):"__THEME_NESTED__";function K(e,t){return typeof t=="function"?t(e):l({},e,t)}function Q(e){const{children:t,theme:o}=e,n=_(),r=c.useMemo(()=>{const a=n===null?o:K(n,o);return a!=null&&(a[Y]=n!==null),a},[o,n]);return s.jsx(j.Provider,{value:r,children:t})}const b={};function y(e,t,o,n=!1){return c.useMemo(()=>{const r=e&&t[e]||t;if(typeof o=="function"){const a=o(r),u=e?l({},t,{[e]:a}):a;return n?()=>u:u}return e?l({},t,{[e]:o}):l({},t,o)},[e,t,o,n])}function X(e){const{children:t,theme:o,themeId:n}=e,r=B(b),a=_()||b,u=y(n,r,o),d=y(n,a,o,!0);return s.jsx(Q,{theme:d,children:s.jsx(w.Provider,{value:u,children:t})})}const Z=["theme"];function ee(e){let{theme:t}=e,o=M(e,Z);const n=t[f];return s.jsx(X,l({},o,{themeId:n?f:void 0,theme:n||t}))}const te=(e,t)=>l({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),oe=e=>l({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),ne=(e,t=!1)=>{var o;const n={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([u,d])=>{var m;n[e.getColorSchemeSelector(u).replace(/\s*&/,"")]={colorScheme:(m=d.palette)==null?void 0:m.mode}});let r=l({html:te(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:l({margin:0},oe(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},n);const a=(o=e.components)==null||(o=o.MuiCssBaseline)==null?void 0:o.styleOverrides;return a&&(r=[r,a]),r};function se(e){const t=O({props:e,name:"MuiCssBaseline"}),{children:o,enableColorScheme:n=!1}=t;return s.jsxs(c.Fragment,{children:[s.jsx(A,{styles:r=>ne(r,n)}),o]})}var g={},re=$;Object.defineProperty(g,"__esModule",{value:!0});var T=g.default=void 0,ae=re(W()),ie=s,ce=(0,ae.default)((0,ie.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");T=g.default=ce;const le="/assets/L04-6e10e46d.png",ue=V,de=ue+"v1/auth/login",me=async(e,t)=>await fetch(de,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then(n=>n.json()).catch(n=>n),pe=c.lazy(()=>S(()=>import("./Backdrop.component-9067c43f.js"),["assets/Backdrop.component-9067c43f.js","assets/index-adcb4964.js","assets/index-41007433.css","assets/constants-bb1e5110.js"])),he=c.lazy(()=>S(()=>import("./SnackBar.component-7f1a7e29.js").then(e=>e.b),["assets/SnackBar.component-7f1a7e29.js","assets/index-adcb4964.js","assets/index-41007433.css","assets/constants-bb1e5110.js"])),ge=z(),xe={usuario:"",password:""},ye=()=>{const e=q(),[t,o]=c.useState(xe),[n,r]=c.useState(null),a=R(),[u,d]=c.useState(!1),m=()=>r(null),C=async()=>{try{const i=await me(t.usuario,t.password);i.datos.EstaActivo?(e(I(i)),a(`/${L.PRIVATE}`,{replace:!0})):(r({children:"El usuario no esta activo",severity:"error"}),d(!1))}catch(i){console.log(i)}},k=async i=>{i.preventDefault(),d(!0),C()},x=i=>{i.preventDefault();const{name:E,value:P}=i.target;o({...t,[E]:P})};return s.jsx(ee,{theme:ge,children:s.jsxs(D,{component:"main",sx:{height:"60vh",maxWidth:"100%",width:{xs:"auto",sm:"600px",md:"1050px"},marginTop:"9rem"},children:[s.jsxs(p,{sx:{marginTop:8},children:[s.jsxs(h,{container:!0,children:[s.jsx(se,{}),s.jsx(h,{item:!0,xs:!1,sm:5,md:7,sx:{backgroundImage:`url(${le})`,backgroundRepeat:"no-repeat",backgroundColor:i=>i.palette.mode==="light"?i.palette.grey[900]:i.palette.grey[700],backgroundSize:"contain",backgroundPosition:"center"}}),s.jsx(h,{item:!0,xs:12,sm:7,md:5,component:H,elevation:6,square:!0,children:s.jsxs(p,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsx(N,{sx:{m:1,bgcolor:"warning.main"},children:s.jsx(T,{})}),s.jsx(F,{component:"h1",variant:"h5",children:"Sign in"}),s.jsxs(p,{component:"form",onSubmit:k,sx:{mt:1},children:[s.jsx(v,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"usuario",label:"Usuario",name:"usuario",autoComplete:"usuario",onChange:x,autoFocus:!0}),s.jsx(v,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:x}),s.jsx(G,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,bgcolor:"info.light"},children:"Ingresar"})]})]})})]}),!!n&&s.jsx(he,{snackbar:n,onClose:m})]}),s.jsx(pe,{openBackdrop:u,setOpenBackdrop:d})]})})};export{ye as default};
