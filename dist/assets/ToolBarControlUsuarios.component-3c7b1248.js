import{r as p,j as s,a8 as g,m as h,a9 as m,$ as x,ah as f,ab as j,aa as w}from"./index-441cd09c.js";const b=r=>{const{setRows:i,setRowModesModel:l,permisos:c}=r,[n,t]=p.useState(null),d=()=>t(null),u=async()=>{const e=await f().then(o=>o.json()).then(o=>o.data);if(console.log(e),c.includes(j.Insertar)){const o=e[e.length-1].Id+1;console.log(o),console.log(),i(a=>[{Id:o,Usuario:"",Gestor:"",Aplicacion:"",PwdEncryted:"",DireccionApp:"",FechaModificacion:new Date().toLocaleString("en-EN",{timeZone:"UTC"}),Appx:!1,isEnable:!0,isNew:!0,TipoUsuario:1},...a]),l(a=>({...a,[o]:{mode:w.Edit,fieldToFocus:"Usuario"}}))}else t({children:"Usuario no autorizado ",severity:"warning"})};return s.jsx(s.Fragment,{children:s.jsxs(g,{children:[s.jsx(h,{color:"primary",startIcon:s.jsx(m,{}),onClick:u,children:"Agregar Registro"}),!!n&&s.jsx(x,{snackbar:n,onClose:d})]})})};export{b as default};
