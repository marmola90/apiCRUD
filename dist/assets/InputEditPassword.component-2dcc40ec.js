import{d as m,i as I,j as t,F as C,r as v,ag as D,s as S,R as i,ah as A,ai as E,aj as g,a3 as M}from"./index-f9663bdf.js";import{p as H}from"./userEncrypt.service-ab3eac7d.js";var u={},w=I;Object.defineProperty(u,"__esModule",{value:!0});var p=u.default=void 0,R=w(m()),y=t,L=(0,R.default)((0,y.jsx)("path",{d:"M2 17h20v2H2v-2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48 1.3.75zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7l-.85 1.48zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23v-1.5z"}),"Password");p=u.default=L;const k=s=>{const{id:e,value:l,field:a}=s,n=C(d=>d.user),[c,h]=v.useState(null),o=D(),P=()=>h(null);v.useEffect(()=>{H(e).then(r=>r.json()).then(r=>{var f;r.status==="Error"?h({children:r.data.ErrorDetail,severity:"error"}):o.current.setEditCellValue({id:e,field:a,value:(f=r.data)==null?void 0:f.Pwd})})},[o,a,e]);const x=async d=>{(n.datos.IDPerfil===i.ADMINAPP||n.datos.IDPerfil===i.CONSULADMON)&&o.current.setEditCellValue({id:e,field:a,value:d.target.value})},j=async()=>{o.current.setEditCellValue({id:e,field:a,value:N()})};return t.jsxs(t.Fragment,{children:[t.jsx(S,{type:"text",value:l,onChange:x,fullWidth:!0,InputProps:{endAdornment:(n.datos.IDPerfil===i.ADMINAPP||n.datos.IDPerfil===i.CONSULADMON)&&t.jsx(A,{title:"Generar Password",children:t.jsx(E,{position:"end",children:t.jsx(g,{"aria-label":"Generar Password",onClick:j,children:t.jsx(p,{fontSize:"small"})})})})}},e),!!c&&t.jsx(M,{snackbar:c,onClose:P})]})},N=()=>{let s="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$";for(let l=1;l<=16;l++){const a=Math.floor(Math.random()*e.length+1);s+=e.charAt(a)}return s};export{k as default};
