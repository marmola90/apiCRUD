import{r as c,j as s,_ as l,u as M,T as O,a as w,b,c as z,G as B,A as I,d as R,i as L,e as x,f as D,g as A,C as W,B as h,h as g,P as $,k as V,l as y,m as q,n as H,R as F}from"./index-a62bebf9.js";const N=c.createContext(null),j=N;function C(){return c.useContext(j)}const U=typeof Symbol=="function"&&Symbol.for,G=U?Symbol.for("mui.nested"):"__THEME_NESTED__";function J(e,t){return typeof t=="function"?t(e):l({},e,t)}function Y(e){const{children:t,theme:o}=e,n=C(),a=c.useMemo(()=>{const r=n===null?o:J(n,o);return r!=null&&(r[G]=n!==null),r},[o,n]);return s.jsx(j.Provider,{value:a,children:t})}const S={};function _(e,t,o,n=!1){return c.useMemo(()=>{const a=e&&t[e]||t;if(typeof o=="function"){const r=o(a),u=e?l({},t,{[e]:r}):r;return n?()=>u:u}return e?l({},t,{[e]:o}):l({},t,o)},[e,t,o,n])}function K(e){const{children:t,theme:o,themeId:n}=e,a=M(S),r=C()||S,u=_(n,a,o),d=_(n,r,o,!0);return s.jsx(Y,{theme:d,children:s.jsx(O.Provider,{value:u,children:t})})}const Q=["theme"];function X(e){let{theme:t}=e,o=w(e,Q);const n=t[b];return s.jsx(K,l({},o,{themeId:n?b:void 0,theme:n||t}))}const Z=(e,t)=>l({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),ee=e=>l({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),te=(e,t=!1)=>{var o;const n={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([u,d])=>{var m;n[e.getColorSchemeSelector(u).replace(/\s*&/,"")]={colorScheme:(m=d.palette)==null?void 0:m.mode}});let a=l({html:Z(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:l({margin:0},ee(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},n);const r=(o=e.components)==null||(o=o.MuiCssBaseline)==null?void 0:o.styleOverrides;return r&&(a=[a,r]),a};function oe(e){const t=z({props:e,name:"MuiCssBaseline"}),{children:o,enableColorScheme:n=!1}=t;return s.jsxs(c.Fragment,{children:[s.jsx(B,{styles:a=>te(a,n)}),o]})}const ne=I,se=ne+"v1/auth/login",re=async(e,t)=>await fetch(se,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then(n=>n.json()).catch(n=>n);var f={},ae=L;Object.defineProperty(f,"__esModule",{value:!0});var T=f.default=void 0,ie=ae(R()),ce=s,le=(0,ie.default)((0,ce.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");T=f.default=le;const ue="/assets/L04-6e10e46d.png",de=c.lazy(()=>x(()=>import("./TextTitle.component-dcca1ba3.js"),["assets/TextTitle.component-dcca1ba3.js","assets/index-a62bebf9.js","assets/index-fb021b7c.css"])),me=c.lazy(()=>x(()=>import("./Backdrop.component-2cf0835d.js"),["assets/Backdrop.component-2cf0835d.js","assets/index-a62bebf9.js","assets/index-fb021b7c.css"])),pe=c.lazy(()=>x(()=>import("./index-a62bebf9.js").then(e=>e.am),["assets/index-a62bebf9.js","assets/index-fb021b7c.css"])),he=D(),ge={usuario:"",password:""},fe=()=>{const{navigate:e,dispatch:t}=A(),[o,n]=c.useState(ge),[a,r]=c.useState(null),[u,d]=c.useState(!1),m=()=>r(null),k=async()=>{try{const i=await re(o.usuario,o.password);if(i.datos.EstaActivo)t(H(i)),e(`/${F.PRIVATE}`,{replace:!0});else{const p=JSON.parse(i.token).lde_message;r(p?{children:"Usuario/Contraseña inválidos.",severity:"error"}:{children:"El usuario no esta activo.",severity:"error"}),d(!1)}}catch(i){console.log(i)}},E=async i=>{i.preventDefault(),d(!0),k()},v=i=>{i.preventDefault();const{name:p,value:P}=i.target;n({...o,[p]:P})};return s.jsx(X,{theme:he,children:s.jsxs(W,{component:"main",sx:{height:"60vh",maxWidth:"100%",width:{xs:"auto",sm:"600px",md:"1050px"},marginTop:"9rem"},children:[s.jsxs(h,{sx:{marginTop:8},children:[s.jsxs(g,{container:!0,children:[s.jsx(oe,{}),s.jsx(g,{item:!0,xs:!1,sm:5,md:7,sx:{backgroundImage:`url(${ue})`,backgroundRepeat:"no-repeat",backgroundColor:i=>i.palette.mode==="light"?i.palette.grey[900]:i.palette.grey[700],backgroundSize:"contain",backgroundPosition:"center"}}),s.jsx(g,{item:!0,xs:12,sm:7,md:5,component:$,elevation:6,square:!0,children:s.jsxs(h,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsx(V,{sx:{m:1,bgcolor:"warning.main"},children:s.jsx(T,{})}),s.jsx(de,{variante:"h4",color:"#353535de",titleName:"Sign In"}),s.jsxs(h,{component:"form",onSubmit:E,sx:{mt:1},children:[s.jsx(y,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"usuario",label:"Usuario",name:"usuario",autoComplete:"usuario",onChange:v,autoFocus:!0}),s.jsx(y,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:v}),s.jsx(q,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,bgcolor:"info.light"},children:"Ingresar"})]})]})})]}),!!a&&s.jsx(pe,{snackbar:a,onClose:m})]}),s.jsx(me,{openBackdrop:u,setOpenBackdrop:d})]})})};export{fe as default};
